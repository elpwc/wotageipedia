# 规范化

## 请求
1. 所有请求正确返回的状态码均使用200；

2. 将全部错误暂且归类为：

- (400) 请求格式不正确
- (401) 未登录/需要token
- (403) 权限
- (404) 不存在
- (500) 服务器噶了

前端对所有错误响应拦截，在一个地方统一报错

返回的错误格式统一为(加?为可选)：
```json
{
    "errcode": 400 | 401 | 403 | 404 | 500 | ... ,
    "message": "找不到指定副歌技", 
    "showType"?: 0, // 报错方式 0: 不提示, 1: 警告, 2: 错误, 3: 信息, 4: 跳转到错误页面
    "data"?: {}, //附加数据，有必要附带说明信息时使用
}
```

3. i18n变更：通过前端在headers加入 `{ "lang": "zh-cn" }` 来控制。  
**错误请求里的 message 的 i18n 也在后端定义**，通过 headers 里的 lang 返回对应语言的。（不然前后端得维护一份统一的错误码表 更麻烦（
